make kernel
make[1]: Entering directory '/home/melvin/Programmering/OS'
make -C /home/melvin/Programmering/OS/sysroot/kernel 
make[2]: Entering directory '/home/melvin/Programmering/OS/sysroot/kernel'
/home/melvin/opt/cross2/bin/i686-elf-gcc -O2 -std=gnu99 -ffreestanding -mno-red-zone -Wall -Wextra -I /home/melvin/Programmering/OS/sysroot/kernel/include -I /home/melvin/Programmering/OS/sysroot/lib/include  -c xhcd.c -o /home/melvin/Programmering/OS/sysroot/kernel/build/xhcd.o
In file included from xhcd.c:2:
/home/melvin/Programmering/OS/sysroot/kernel/include/kernel/xhcd-ring.h:57:1: warning: type qualifiers ignored on function return type [-Wignored-qualifiers]
   57 | TRB2 TRB_NOOP();
      | ^~~~
/home/melvin/Programmering/OS/sysroot/kernel/include/kernel/xhcd-ring.h:58:1: warning: type qualifiers ignored on function return type [-Wignored-qualifiers]
   58 | TRB2 TRB_ENABLE_SLOT(int slotType);
      | ^~~~
/home/melvin/Programmering/OS/sysroot/kernel/include/kernel/xhcd-ring.h:59:1: warning: type qualifiers ignored on function return type [-Wignored-qualifiers]
   59 | TRB2 TRB_ADDRESS_DEVICE(uint64_t inputContextAddr, uint32_t slotId, uint32_t bsr);
      | ^~~~
xhcd.c: In function 'xhcd_init':
xhcd.c:88:27: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
   88 |    Segment segments[] = {{(uint64_t)commandRing, DEFAULT_COMMAND_RING_SIZE}};
      |                           ^
xhcd.c:92:4: warning: converting a packed 'CommandCompletionEventTRB' pointer (alignment 1) to a 'uint32_t' {aka 'long unsigned int'} pointer (alignment 4) may result in an unaligned pointer value [-Waddress-of-packed-member]
   92 |    XhcEventRingSegment eventSegments[] = {{(uint32_t*)eventRing, DEFAULT_EVENT_SEGEMNT_TRB_COUNT}};
      |    ^~~~~~~~~~~~~~~~~~~
xhcd.c: In function 'xhcd_initPort':
xhcd.c:176:39: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  176 |    Segment transferRingSegments[] = {{(uint64_t)transferRing, DEFAULT_TRANSFER_RING_TRB_COUNT}};
      |                                       ^
xhcd.c:184:41: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  184 |    tempControlEndpoint.dequeuePointer = (uint64_t)transferRingDescriptor.dequeue | transferRingDescriptor.pcs;
      |                                         ^
xhcd.c:194:34: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  194 |    dcBaseAddressArray[slotId] =  (uint64_t)&outputContext[slotId];
      |                                  ^
xhcd.c:196:35: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  196 |    xhcd_putTRB(TRB_ADDRESS_DEVICE((uint64_t)&inputContext[slotId], slotId, 0), &commandRingDescriptor);
      |                                   ^
xhcd.c: In function 'waitForControllerReady':
xhcd.c:297:28: warning: taking address of packed member of 'struct <anonymous>' may result in an unaligned pointer value [-Waddress-of-packed-member]
  297 |    volatile uint32_t *us = &xhci->operation->USBStatus;
      |                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~
xhcd.c: In function 'setMaxEnabledDeviceSlots':
xhcd.c:304:46: warning: taking address of packed member of 'struct <anonymous>' may result in an unaligned pointer value [-Waddress-of-packed-member]
  304 |    volatile uint32_t *configure = (uint32_t*)&xhci->operation->configure;
      |                                              ^~~~~~~~~~~~~~~~~~~~~~~~~~~
xhcd.c: In function 'initScratchPad':
xhcd.c:336:31: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  336 |       scratchpadPointers[i] = (uint64_t)&scratchpad[i];
      |                               ^
xhcd.c:340:28: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
  340 |    dcBaseAddressArray[0] = (uint64_t)scratchpadPointers;
      |                            ^
xhcd.c: At top level:
xhcd.c:213:13: warning: 'test' defined but not used [-Wunused-function]
  213 | static void test(Xhci *xhci){
      |             ^~~~
/home/melvin/opt/cross2/bin/i686-elf-gcc -T linker.ld -nostdlib -lgcc -ffreestanding -O2 -r /home/melvin/Programmering/OS/sysroot/kernel/build/boot.o /home/melvin/Programmering/OS/sysroot/kernel/build/kernel1.o /home/melvin/Programmering/OS/sysroot/kernel/build/interrupt.o /home/melvin/Programmering/OS/sysroot/kernel/build/registers.o /home/melvin/Programmering/OS/sysroot/kernel/build/apic.o /home/melvin/Programmering/OS/sysroot/kernel/build/pci.o /home/melvin/Programmering/OS/sysroot/kernel/build/xhcd.o /home/melvin/Programmering/OS/sysroot/kernel/build/xhcd-ring.o /home/melvin/Programmering/OS/sysroot/kernel/build/xhcd-event-ring.o  -o /home/melvin/Programmering/OS/sysroot/kernel/build/kernel.out
make[2]: Leaving directory '/home/melvin/Programmering/OS/sysroot/kernel'
make[1]: Leaving directory '/home/melvin/Programmering/OS'
make lib
make[1]: Entering directory '/home/melvin/Programmering/OS'
make -C /home/melvin/Programmering/OS/sysroot/lib
make[2]: Entering directory '/home/melvin/Programmering/OS/sysroot/lib'
make[2]: '/home/melvin/Programmering/OS/sysroot/lib/build/lib.out' is up to date.
make[2]: Leaving directory '/home/melvin/Programmering/OS/sysroot/lib'
make[1]: Leaving directory '/home/melvin/Programmering/OS'
/home/melvin/opt/cross2/bin/i686-elf-gcc -T /home/melvin/Programmering/OS/linker.ld /home/melvin/Programmering/OS/sysroot/kernel/build/kernel.out /home/melvin/Programmering/OS/sysroot/lib/build/lib.out -nostdlib -lgcc -ffreestanding -O0  -o /home/melvin/Programmering/OS/build/os.elf
/home/melvin/opt/cross2/lib/gcc/i686-elf/12.1.0/../../../../i686-elf/bin/ld: warning: /home/melvin/Programmering/OS/build/os.elf has a LOAD segment with RWX permissions
objcopy -O binary /home/melvin/Programmering/OS/build/os.elf /home/melvin/Programmering/OS/build/os.bin
18+1 records in
18+1 records out
9517 bytes (9,5 kB, 9,3 KiB) copied, 0,000192416 s, 49,5 MB/s
18+1 records in
18+1 records out
9517 bytes (9,5 kB, 9,3 KiB) copied, 0,00014474 s, 65,8 MB/s
WARNING: Image format was not specified for 'build/os.img' and probing guessed raw.
         Automatically detecting the format is dangerous for raw images, write operations on block 0 will be restricted.
         Specify the 'raw' format explicitly to remove the restrictions.
usb_port_claim bus 0, port 1
usb_port_attach bus 0, port 1, devspeed full+high, portspeed full+high+super
usb_xhci_port_link port 5, pls 7
usb_xhci_port_notify port 5, bits 0x20000
usb_xhci_reset === RESET ===
usb_xhci_slot_disable slotid 1
usb_xhci_slot_disable slotid 2
usb_xhci_slot_disable slotid 3
usb_xhci_slot_disable slotid 4
usb_xhci_slot_disable slotid 5
usb_xhci_slot_disable slotid 6
usb_xhci_slot_disable slotid 7
usb_xhci_slot_disable slotid 8
usb_xhci_slot_disable slotid 9
usb_xhci_slot_disable slotid 10
usb_xhci_slot_disable slotid 11
usb_xhci_slot_disable slotid 12
usb_xhci_slot_disable slotid 13
usb_xhci_slot_disable slotid 14
usb_xhci_slot_disable slotid 15
usb_xhci_slot_disable slotid 16
usb_xhci_slot_disable slotid 17
usb_xhci_slot_disable slotid 18
usb_xhci_slot_disable slotid 19
usb_xhci_slot_disable slotid 20
usb_xhci_slot_disable slotid 21
usb_xhci_slot_disable slotid 22
usb_xhci_slot_disable slotid 23
usb_xhci_slot_disable slotid 24
usb_xhci_slot_disable slotid 25
usb_xhci_slot_disable slotid 26
usb_xhci_slot_disable slotid 27
usb_xhci_slot_disable slotid 28
usb_xhci_slot_disable slotid 29
usb_xhci_slot_disable slotid 30
usb_xhci_slot_disable slotid 31
usb_xhci_slot_disable slotid 32
usb_xhci_slot_disable slotid 33
usb_xhci_slot_disable slotid 34
usb_xhci_slot_disable slotid 35
usb_xhci_slot_disable slotid 36
usb_xhci_slot_disable slotid 37
usb_xhci_slot_disable slotid 38
usb_xhci_slot_disable slotid 39
usb_xhci_slot_disable slotid 40
usb_xhci_slot_disable slotid 41
usb_xhci_slot_disable slotid 42
usb_xhci_slot_disable slotid 43
usb_xhci_slot_disable slotid 44
usb_xhci_slot_disable slotid 45
usb_xhci_slot_disable slotid 46
usb_xhci_slot_disable slotid 47
usb_xhci_slot_disable slotid 48
usb_xhci_slot_disable slotid 49
usb_xhci_slot_disable slotid 50
usb_xhci_slot_disable slotid 51
usb_xhci_slot_disable slotid 52
usb_xhci_slot_disable slotid 53
usb_xhci_slot_disable slotid 54
usb_xhci_slot_disable slotid 55
usb_xhci_slot_disable slotid 56
usb_xhci_slot_disable slotid 57
usb_xhci_slot_disable slotid 58
usb_xhci_slot_disable slotid 59
usb_xhci_slot_disable slotid 60
usb_xhci_slot_disable slotid 61
usb_xhci_slot_disable slotid 62
usb_xhci_slot_disable slotid 63
usb_xhci_slot_disable slotid 64
usb_xhci_port_link port 1, pls 5
usb_xhci_port_notify port 1, bits 0x20000
usb_xhci_port_link port 2, pls 5
usb_xhci_port_notify port 2, bits 0x20000
usb_xhci_port_link port 3, pls 5
usb_xhci_port_notify port 3, bits 0x20000
usb_xhci_port_link port 4, pls 5
usb_xhci_port_notify port 4, bits 0x20000
usb_xhci_port_link port 5, pls 7
usb_xhci_port_notify port 5, bits 0x20000
usb_xhci_port_link port 6, pls 5
usb_xhci_port_notify port 6, bits 0x20000
usb_xhci_port_link port 7, pls 5
usb_xhci_port_notify port 7, bits 0x20000
usb_xhci_port_link port 8, pls 5
usb_xhci_port_notify port 8, bits 0x20000
usb_xhci_cap_read off 0x0000, ret 0x01000040
usb_xhci_cap_read off 0x0000, ret 0x01000040
usb_xhci_cap_read off 0x0014, ret 0x00002000
usb_xhci_cap_read off 0x0018, ret 0x00001000
usb_xhci_cap_read off 0x0004, ret 0x08001040
usb_xhci_cap_read off 0x0010, ret 0x00087001
usb_xhci_cap_read off 0x0020, ret 0x02000402
usb_xhci_cap_read off 0x0024, ret 0x20425355
usb_xhci_cap_read off 0x0028, ret 0x00000405
usb_xhci_cap_read off 0x0030, ret 0x03000002
usb_xhci_cap_read off 0x0034, ret 0x20425355
usb_xhci_cap_read off 0x0038, ret 0x00000401
usb_xhci_oper_read off 0x0008, ret 0x00000001
usb_xhci_oper_read off 0x0000, ret 0x00000000
usb_xhci_oper_write off 0x0000, val 0x00000002
usb_xhci_reset === RESET ===
usb_xhci_slot_disable slotid 1
usb_xhci_slot_disable slotid 2
usb_xhci_slot_disable slotid 3
usb_xhci_slot_disable slotid 4
usb_xhci_slot_disable slotid 5
usb_xhci_slot_disable slotid 6
usb_xhci_slot_disable slotid 7
usb_xhci_slot_disable slotid 8
usb_xhci_slot_disable slotid 9
usb_xhci_slot_disable slotid 10
usb_xhci_slot_disable slotid 11
usb_xhci_slot_disable slotid 12
usb_xhci_slot_disable slotid 13
usb_xhci_slot_disable slotid 14
usb_xhci_slot_disable slotid 15
usb_xhci_slot_disable slotid 16
usb_xhci_slot_disable slotid 17
usb_xhci_slot_disable slotid 18
usb_xhci_slot_disable slotid 19
usb_xhci_slot_disable slotid 20
usb_xhci_slot_disable slotid 21
usb_xhci_slot_disable slotid 22
usb_xhci_slot_disable slotid 23
usb_xhci_slot_disable slotid 24
usb_xhci_slot_disable slotid 25
usb_xhci_slot_disable slotid 26
usb_xhci_slot_disable slotid 27
usb_xhci_slot_disable slotid 28
usb_xhci_slot_disable slotid 29
usb_xhci_slot_disable slotid 30
usb_xhci_slot_disable slotid 31
usb_xhci_slot_disable slotid 32
usb_xhci_slot_disable slotid 33
usb_xhci_slot_disable slotid 34
usb_xhci_slot_disable slotid 35
usb_xhci_slot_disable slotid 36
usb_xhci_slot_disable slotid 37
usb_xhci_slot_disable slotid 38
usb_xhci_slot_disable slotid 39
usb_xhci_slot_disable slotid 40
usb_xhci_slot_disable slotid 41
usb_xhci_slot_disable slotid 42
usb_xhci_slot_disable slotid 43
usb_xhci_slot_disable slotid 44
usb_xhci_slot_disable slotid 45
usb_xhci_slot_disable slotid 46
usb_xhci_slot_disable slotid 47
usb_xhci_slot_disable slotid 48
usb_xhci_slot_disable slotid 49
usb_xhci_slot_disable slotid 50
usb_xhci_slot_disable slotid 51
usb_xhci_slot_disable slotid 52
usb_xhci_slot_disable slotid 53
usb_xhci_slot_disable slotid 54
usb_xhci_slot_disable slotid 55
usb_xhci_slot_disable slotid 56
usb_xhci_slot_disable slotid 57
usb_xhci_slot_disable slotid 58
usb_xhci_slot_disable slotid 59
usb_xhci_slot_disable slotid 60
usb_xhci_slot_disable slotid 61
usb_xhci_slot_disable slotid 62
usb_xhci_slot_disable slotid 63
usb_xhci_slot_disable slotid 64
usb_xhci_port_link port 1, pls 5
usb_xhci_port_notify port 1, bits 0x20000
usb_xhci_port_link port 2, pls 5
usb_xhci_port_notify port 2, bits 0x20000
usb_xhci_port_link port 3, pls 5
usb_xhci_port_notify port 3, bits 0x20000
usb_xhci_port_link port 4, pls 5
usb_xhci_port_notify port 4, bits 0x20000
usb_xhci_port_link port 5, pls 7
usb_xhci_port_notify port 5, bits 0x20000
usb_xhci_port_link port 6, pls 5
usb_xhci_port_notify port 6, bits 0x20000
usb_xhci_port_link port 7, pls 5
usb_xhci_port_notify port 7, bits 0x20000
usb_xhci_port_link port 8, pls 5
usb_xhci_port_notify port 8, bits 0x20000
usb_xhci_oper_read off 0x0000, ret 0x00000000
usb_xhci_oper_read off 0x0004, ret 0x00000001
usb_xhci_oper_write off 0x0038, val 0x00000040
usb_xhci_oper_write off 0x0030, val 0xbffdfd80
usb_xhci_oper_write off 0x0034, val 0x00000000
usb_xhci_oper_write off 0x0018, val 0xbffdfc01
usb_xhci_oper_write off 0x001c, val 0x00000000
usb_xhci_runtime_write off 0x0028, val 0x00000001
usb_xhci_runtime_write off 0x0038, val 0xbffdfa00
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_runtime_write off 0x0030, val 0xbffdfd40
usb_xhci_runtime_write off 0x0034, val 0x00000000
xhci: event ring[0]:bffdfa00 [16]
usb_xhci_cap_read off 0x0008, ret 0x0000000f
usb_xhci_oper_read off 0x0000, ret 0x00000000
usb_xhci_oper_write off 0x0000, val 0x00000001
usb_xhci_run 
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 5, off 0x0000, ret 0x00020ee1
usb_xhci_port_read port 5, off 0x0000, ret 0x00020ee1
usb_xhci_port_write port 5, off 0x0000, val 0x00020ef1
usb_xhci_port_reset port 5, warm 0
usb_xhci_port_link port 5, pls 0
usb_xhci_port_notify port 5, bits 0x200000
usb_xhci_queue_event v 0, idx 0, ER_PORT_STATUS_CHANGE, CC_SUCCESS, p 0x0000000005000000, s 0x01000000, c 0x00008801
usb_xhci_port_read port 5, off 0x0000, ret 0x00220e03
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_doorbell_write off 0x0000, val 0x00000000
xhci_process_commands()
usb_xhci_fetch_trb addr 0x00000000bffdfc00, CR_ENABLE_SLOT, p 0x0000000000000000, s 0x00000000, c 0x00002401
usb_xhci_slot_enable slotid 1
usb_xhci_queue_event v 0, idx 1, ER_COMMAND_COMPLETE, CC_SUCCESS, p 0x00000000bffdfc00, s 0x01000000, c 0x01008401
usb_xhci_fetch_trb addr 0x00000000bffdfc10, TRB_RESERVED, p 0x0000000000000000, s 0x00000000, c 0x00000000
usb_xhci_port_read port 5, off 0x0000, ret 0x00220e03
usb_xhci_port_write port 5, off 0x0000, val 0x00220e21
usb_xhci_runtime_write off 0x0038, val 0xbffdfa10
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_runtime_write off 0x0038, val 0xbffdfa20
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_port_read port 5, off 0x0000, ret 0x00000e03
usb_xhci_doorbell_write off 0x0000, val 0x00000000
xhci_process_commands()
usb_xhci_fetch_trb addr 0x00000000bffdfc10, CR_ADDRESS_DEVICE, p 0x00000000befe8000, s 0x00000000, c 0x01002c01
xhci: input context at befe8000
xhci: output context at bffdf400
xhci: input slot context: 08300000 00050000 00000000 00000000
xhci: input ep0 context: 00000000 00400020 bffdf801 00000000 00000040
usb_xhci_slot_address slotid 1, port 1
usb_xhci_ep_enable slotid 1, epid 1
xhci: endpoint 0.1 type is 4, max transaction (burst) size is 64
xhci: output slot context: 08300000 00050000 00000000 10000001
xhci: output ep0 context: 00000001 00400020 bffdf801 00000000 00000040
usb_xhci_queue_event v 0, idx 2, ER_COMMAND_COMPLETE, CC_SUCCESS, p 0x00000000bffdfc10, s 0x01000000, c 0x01008401
usb_xhci_fetch_trb addr 0x00000000bffdfc20, TRB_RESERVED, p 0x0000000000000000, s 0x00000000, c 0x00000000
usb_xhci_runtime_write off 0x0038, val 0xbffdfa30
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf801
usb_xhci_fetch_trb addr 0x00000000bffdf800, TR_SETUP, p 0x0008000001000680, s 0x00000008, c 0x00030841
usb_xhci_fetch_trb addr 0x00000000bffdf810, TR_DATA, p 0x00000000befe1f96, s 0x00000008, c 0x00010c01
usb_xhci_fetch_trb addr 0x00000000bffdf820, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00001021
usb_xhci_xfer_start 0x7feac003ed60: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0x69 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ed60: len 8
usb_xhci_queue_event v 0, idx 3, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf820, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf831
usb_xhci_runtime_write off 0x0038, val 0xbffdfa40
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf831
usb_xhci_fetch_trb addr 0x00000000bffdf830, TR_SETUP, p 0x0009000002000680, s 0x00000008, c 0x00030841
usb_xhci_fetch_trb addr 0x00000000bffdf840, TR_DATA, p 0x00000000befe1fa8, s 0x00000009, c 0x00010c01
usb_xhci_fetch_trb addr 0x00000000bffdf850, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00001021
usb_xhci_xfer_start 0x7feac003ed60: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0x69 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ed60: len 9
usb_xhci_queue_event v 0, idx 4, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf850, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf861
usb_xhci_runtime_write off 0x0038, val 0xbffdfa50
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf861
usb_xhci_fetch_trb addr 0x00000000bffdf860, TR_SETUP, p 0x0022000002000680, s 0x00000008, c 0x00030841
usb_xhci_fetch_trb addr 0x00000000bffdf870, TR_DATA, p 0x00000000befe84e0, s 0x00000022, c 0x00010c01
usb_xhci_fetch_trb addr 0x00000000bffdf880, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00001021
usb_xhci_xfer_start 0x7feac003ebb0: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0x69 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ebb0: len 34
usb_xhci_queue_event v 0, idx 5, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf880, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf891
usb_xhci_runtime_write off 0x0038, val 0xbffdfa60
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf891
usb_xhci_fetch_trb addr 0x00000000bffdf890, TR_SETUP, p 0x0000000000010900, s 0x00000008, c 0x00000841
usb_xhci_fetch_trb addr 0x00000000bffdf8a0, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00011021
usb_xhci_xfer_start 0x7feac003ebb0: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0xe1 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ebb0: len 0
usb_xhci_queue_event v 0, idx 6, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf8a0, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf8b1
usb_xhci_runtime_write off 0x0038, val 0xbffdfa70
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf8b1
usb_xhci_fetch_trb addr 0x00000000bffdf8b0, TR_SETUP, p 0x0000000000000b21, s 0x00000008, c 0x00000841
usb_xhci_fetch_trb addr 0x00000000bffdf8c0, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00011021
usb_xhci_xfer_start 0x7feac003ebb0: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0xe1 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ebb0: len 0
usb_xhci_queue_event v 0, idx 7, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf8c0, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf8d1
usb_xhci_runtime_write off 0x0038, val 0xbffdfa80
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000001
usb_xhci_ep_kick slotid 1, epid 1, streamid 0
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf8d1
usb_xhci_fetch_trb addr 0x00000000bffdf8d0, TR_SETUP, p 0x0000000008000a21, s 0x00000008, c 0x00000841
usb_xhci_fetch_trb addr 0x00000000bffdf8e0, TR_STATUS, p 0x0000000000000000, s 0x00000000, c 0x00011021
usb_xhci_xfer_start 0x7feac003ebb0: slotid 1, epid 1, streamid 0
xhci: setup packet pid 0xe1 addr 1 ep 0
usb_xhci_xfer_success 0x7feac003ebb0: len 0
usb_xhci_queue_event v 0, idx 8, ER_TRANSFER, CC_SUCCESS, p 0x00000000bffdf8e0, s 0x01000000, c 0x01018001
xhci: set epctx: bffdf420 state=1 dequeue=00000000bffdf8f1
usb_xhci_runtime_write off 0x0038, val 0xbffdfa90
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_port_read port 5, off 0x0000, ret 0x00000e03
usb_xhci_doorbell_write off 0x0000, val 0x00000000
xhci_process_commands()
usb_xhci_fetch_trb addr 0x00000000bffdfc20, CR_CONFIGURE_ENDPOINT, p 0x00000000befe8000, s 0x00000000, c 0x01003001
usb_xhci_slot_configure slotid 1
xhci: input context at befe8000
xhci: output context at bffdf400
xhci: input ep1.1 context: 00060000 00080038 000e8901 00000000 00000008
usb_xhci_ep_disable slotid 1, epid 3
xhci: slot 1 ep 3 already disabled
usb_xhci_ep_enable slotid 1, epid 3
xhci: endpoint 1.1 type is 7, max transaction (burst) size is 8
xhci: output ep1.1 context: 00060001 00080038 000e8901 00000000 00000008
xhci: output slot context: 18300000 00050000 00000000 18000001
usb_xhci_queue_event v 0, idx 9, ER_COMMAND_COMPLETE, CC_SUCCESS, p 0x00000000bffdfc20, s 0x01000000, c 0x01008401
usb_xhci_fetch_trb addr 0x00000000bffdfc30, TRB_RESERVED, p 0x0000000000000000, s 0x00000000, c 0x00000000
usb_xhci_runtime_write off 0x0038, val 0xbffdfaa0
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
xhci_wakeup_endpoint
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8901
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_doorbell_write off 0x0004, val 0x00000003
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8901
usb_xhci_fetch_trb addr 0x00000000000e8900, TR_NORMAL, p 0x00000000bffdffa0, s 0x00000008, c 0x00000421
usb_xhci_xfer_start 0x7feac003ebb0: slotid 1, epid 3, streamid 0
xhci_submit(slotid=1,epid=3)
xhci: xfer nacked, stopping schedule
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
usb_xhci_xfer_retry 0x7feac003ebb0
xhci: setup packet pid 0x69 addr 1 ep 1
usb_xhci_xfer_success 0x7feac003ebb0: len 8
usb_xhci_queue_event v 0, idx 10, ER_TRANSFER, CC_SUCCESS, p 0x00000000000e8900, s 0x01000000, c 0x01038001
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8911
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8911
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
xhci_wakeup_endpoint
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8911
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 8, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 7, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 6, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 4, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 3, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 2, off 0x0000, ret 0x000202a0
usb_xhci_port_read port 1, off 0x0000, ret 0x000202a0
usb_xhci_runtime_write off 0x0038, val 0xbffdfab0
usb_xhci_runtime_write off 0x003c, val 0x00000000
usb_xhci_doorbell_write off 0x0004, val 0x00000003
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8911
usb_xhci_fetch_trb addr 0x00000000000e8910, TR_NORMAL, p 0x00000000bffdffa0, s 0x00000008, c 0x00000421
usb_xhci_xfer_start 0x7feac02ceff0: slotid 1, epid 3, streamid 0
xhci_submit(slotid=1,epid=3)
xhci: xfer nacked, stopping schedule
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
usb_xhci_xfer_retry 0x7feac02ceff0
xhci: setup packet pid 0x69 addr 1 ep 1
usb_xhci_xfer_success 0x7feac02ceff0: len 8
usb_xhci_queue_event v 0, idx 11, ER_TRANSFER, CC_SUCCESS, p 0x00000000000e8910, s 0x01000000, c 0x01038001
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8921
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8921
xhci_wakeup_endpoint
usb_xhci_ep_kick slotid 1, epid 3, streamid 0
xhci: set epctx: bffdf460 state=1 dequeue=00000000000e8921
